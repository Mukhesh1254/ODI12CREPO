<?xml version="1.0" encoding="UTF-8"?>
<SunopsisExport>
<Admin RepositoryVersion="05.02.02.05" IsLegacyIdCompatible="false" />
<Encryption algorithm="AES" keyLength="128" exportKeyHash="" keyVect="Es/JEGrH5nl7A6SGw4bvWQ==" exportKeySalt="83a2843b-cf46-4849-95e9-bddc5c51b45b" containsCipherText="false"/>
<Object class="com.sunopsis.dwg.dbobj.SnpTrt">
		<Field name="CleanupOnError" type="java.lang.String"><![CDATA[0]]></Field>
	<Field name="CompType" type="java.lang.String">null</Field>
	<Field name="DelegateClass" type="java.lang.String">null</Field>
	<Field name="DelegateScript" type="java.lang.String">null</Field>
	<Field name="ExpectedAstClass" type="java.lang.String">null</Field>
	<Field name="ExtVersion" type="java.lang.String">null</Field>
	<Field name="FirstDate" type="java.sql.Timestamp"><![CDATA[2020-07-10 20:30:08.0]]></Field>
	<Field name="FirstUser" type="java.lang.String"><![CDATA[SUPERVISOR]]></Field>
	<Field name="GlobalId" type="java.lang.String"><![CDATA[1c2846dd-ed9f-45cc-907f-0db601b0b694]]></Field>
	<Field name="IndChange" type="java.lang.String"><![CDATA[I]]></Field>
	<Field name="IndGenerateLoad" type="java.lang.String"><![CDATA[0]]></Field>
	<Field name="IndIsHidden" type="java.lang.String"><![CDATA[0]]></Field>
	<Field name="IndJrnMethod" type="java.lang.String"><![CDATA[S]]></Field>
	<Field name="IndSuppSetBased" type="java.lang.String">null</Field>
	<Field name="IntgType" type="java.lang.String">null</Field>
	<Field name="IntVersion" type="com.sunopsis.sql.DbInt"><![CDATA[1]]></Field>
	<Field name="IsConcurrent" type="java.lang.String"><![CDATA[0]]></Field>
	<Field name="IsSeeded" type="java.lang.String">null</Field>
	<Field name="IBaseCompKm" type="com.sunopsis.sql.DbInt"><![CDATA[null]]></Field>
	<Field name="IFolder" type="com.sunopsis.sql.DbInt"><![CDATA[49]]></Field>
	<Field name="IProject" type="com.sunopsis.sql.DbInt"><![CDATA[14]]></Field>
	<Field name="IScBaseTrt" type="com.sunopsis.sql.DbInt"><![CDATA[null]]></Field>
	<Field name="IScOrigTrt" type="com.sunopsis.sql.DbInt"><![CDATA[null]]></Field>
	<Field name="IScTrt" type="com.sunopsis.sql.DbInt"><![CDATA[null]]></Field>
	<Field name="ITrt" type="com.sunopsis.sql.DbInt"><![CDATA[419]]></Field>
	<Field name="ITxtDelTxt" type="com.sunopsis.sql.DbInt"><![CDATA[null]]></Field>
	<Field name="ITxtTrtTxt" type="com.sunopsis.sql.DbInt"><![CDATA[null]]></Field>
	<Field name="KimMultiDserver" type="java.lang.String"><![CDATA[1]]></Field>
	<Field name="KmDefault" type="java.lang.String">null</Field>
	<Field name="KmLang" type="java.lang.String">null</Field>
	<Field name="KmSrcLang" type="java.lang.String">null</Field>
	<Field name="KmSrcTechno" type="java.lang.String"><![CDATA[ORACLE]]></Field>
	<Field name="KmTechno" type="java.lang.String"><![CDATA[ORACLE]]></Field>
	<Field name="KmVersion" type="java.lang.String">null</Field>
	<Field name="LastDate" type="java.sql.Timestamp"><![CDATA[2020-07-10 20:30:08.0]]></Field>
	<Field name="LastUser" type="java.lang.String"><![CDATA[SUPERVISOR]]></Field>
	<Field name="LkmType" type="java.lang.String">null</Field>
	<Field name="LChecksum" type="com.sunopsis.sql.DbInt"><![CDATA[null]]></Field>
	<Field name="LCode" type="java.lang.String">null</Field>
	<Field name="OggJkm" type="java.lang.String">null</Field>
	<Field name="OrdFolder" type="com.sunopsis.sql.DbInt"><![CDATA[null]]></Field>
	<Field name="ProcType" type="java.lang.String">null</Field>
	<Field name="ProdAstType" type="java.lang.String">null</Field>
	<Field name="RepGuid" type="java.lang.String">null</Field>
	<Field name="RepVersion" type="java.lang.String">null</Field>
	<Field name="ScriptPath" type="java.lang.String">null</Field>
	<Field name="ScOrigTrtTag" type="java.lang.String">null</Field>
	<Field name="Subtype" type="java.lang.String">null</Field>
	<Field name="TrtName" type="java.lang.String"><![CDATA[PRC_TEMP_C_APC_REV_CONV_INV_V16]]></Field>
	<Field name="TrtType" type="java.lang.String"><![CDATA[U]]></Field>
	<Field name="VariableDefs" type="java.lang.String">null</Field>
	<Field name="VLastDate" type="java.sql.Timestamp">null</Field>
</Object>
<Object class="com.sunopsis.dwg.dbobj.SnpLineTrt">
		<Field name="AlwaysExe" type="java.lang.String"><![CDATA[1]]></Field>
	<Field name="BrpId" type="com.sunopsis.sql.DbInt"><![CDATA[null]]></Field>
	<Field name="ColConnectId" type="java.lang.String">null</Field>
	<Field name="ColContextCode" type="java.lang.String">null</Field>
	<Field name="ColIndCommit" type="java.lang.String">null</Field>
	<Field name="ColIsolLevel" type="java.lang.String">null</Field>
	<Field name="ColITxt" type="com.sunopsis.sql.DbInt"><![CDATA[null]]></Field>
	<Field name="ColLanguage" type="java.lang.String">null</Field>
	<Field name="ColLschemaName" type="java.lang.String">null</Field>
	<Field name="ColTechno" type="java.lang.String"><![CDATA[ORACLE]]></Field>
	<Field name="DefConnectId" type="java.lang.String">null</Field>
	<Field name="DefContextCode" type="java.lang.String"><![CDATA[DEV]]></Field>
	<Field name="DefIndCommit" type="java.lang.String">null</Field>
	<Field name="DefIsolLevel" type="java.lang.String">null</Field>
	<Field name="DefITxt" type="com.sunopsis.sql.DbInt"><![CDATA[5745]]></Field>
	<Field name="DefLanguage" type="java.lang.String">null</Field>
	<Field name="DefLschemaName" type="java.lang.String"><![CDATA[Rev_Rec_EBS_FIN_Temp_Tst1_Log]]></Field>
	<Field name="DefTechno" type="java.lang.String"><![CDATA[ORACLE]]></Field>
	<Field name="ExeChannel" type="java.lang.String">null</Field>
	<Field name="FirstDate" type="java.sql.Timestamp"><![CDATA[2020-07-10 20:30:08.0]]></Field>
	<Field name="FirstUser" type="java.lang.String"><![CDATA[SUPERVISOR]]></Field>
	<Field name="GlobalId" type="java.lang.String"><![CDATA[b29bcef7-bec1-4f1f-9042-194e530a71bb]]></Field>
	<Field name="IndErr" type="java.lang.String"><![CDATA[1]]></Field>
	<Field name="IndLogFinalCmd" type="java.lang.String"><![CDATA[0]]></Field>
	<Field name="IndLogNb" type="java.lang.String">null</Field>
	<Field name="ILineTrt" type="com.sunopsis.sql.DbInt"><![CDATA[1077]]></Field>
	<Field name="IRefLineTrt" type="com.sunopsis.sql.DbInt"><![CDATA[null]]></Field>
	<Field name="IRefTrt" type="com.sunopsis.sql.DbInt"><![CDATA[null]]></Field>
	<Field name="ITrt" type="com.sunopsis.sql.DbInt"><![CDATA[419]]></Field>
	<Field name="KcmAk" type="java.lang.String">null</Field>
	<Field name="KcmCond" type="java.lang.String">null</Field>
	<Field name="KcmErrDel" type="java.lang.String">null</Field>
	<Field name="KcmJoin" type="java.lang.String">null</Field>
	<Field name="KcmNull" type="java.lang.String">null</Field>
	<Field name="KcmPk" type="java.lang.String">null</Field>
	<Field name="KimDrvdSel" type="java.lang.String">null</Field>
	<Field name="KimIdx" type="java.lang.String">null</Field>
	<Field name="KimJrn" type="java.lang.String">null</Field>
	<Field name="KimJrnPop" type="java.lang.String">null</Field>
	<Field name="KjmCreate" type="java.lang.String">null</Field>
	<Field name="KjmDrop" type="java.lang.String">null</Field>
	<Field name="KjmExtend" type="java.lang.String">null</Field>
	<Field name="KjmInstall" type="java.lang.String">null</Field>
	<Field name="KjmLock" type="java.lang.String">null</Field>
	<Field name="KjmPurge" type="java.lang.String">null</Field>
	<Field name="KjmSetInstall" type="java.lang.String">null</Field>
	<Field name="KjmSetUninstall" type="java.lang.String">null</Field>
	<Field name="KjmSubscribe" type="java.lang.String">null</Field>
	<Field name="KjmTableOrder" type="java.lang.String">null</Field>
	<Field name="KjmUninstall" type="java.lang.String">null</Field>
	<Field name="KjmUnlock" type="java.lang.String">null</Field>
	<Field name="KjmUnsubscribe" type="java.lang.String">null</Field>
	<Field name="KlmAfterInt" type="java.lang.String">null</Field>
	<Field name="KlmIdx" type="java.lang.String">null</Field>
	<Field name="KlmJrn" type="java.lang.String">null</Field>
	<Field name="LastDate" type="java.sql.Timestamp"><![CDATA[2020-07-10 20:30:08.0]]></Field>
	<Field name="LastUser" type="java.lang.String"><![CDATA[SUPERVISOR]]></Field>
	<Field name="LineType" type="java.lang.String">null</Field>
	<Field name="LogLevDet" type="java.lang.String"><![CDATA[3]]></Field>
	<Field name="MapTaskType" type="java.lang.String"><![CDATA[EM]]></Field>
	<Field name="OrdTrt" type="com.sunopsis.sql.DbInt"><![CDATA[10]]></Field>
	<Field name="SqlName" type="java.lang.String"><![CDATA[Drop table TEMPC_APC_REV_CONV]]></Field>
	<Field name="SupportedSubtypes" type="java.lang.String">null</Field>
	<Field name="VariableDefs" type="java.lang.String">null</Field>
</Object>
<Object class="com.sunopsis.dwg.dbobj.SnpTxtHeader">
		<Field name="Enc" type="java.lang.String">null</Field>
	<Field name="EncKey" type="java.lang.String">null</Field>
 <Field name="EncKeyVect" type="java.lang.String">null</Field>
	<Field name="GlobalId" type="java.lang.String"><![CDATA[c576ff3f-245a-4520-8446-65b0932f2dbc]]></Field>
	<Field name="ITxt" type="com.sunopsis.sql.DbInt"><![CDATA[5745]]></Field>
	<Field name="ITxtOrig" type="com.sunopsis.sql.DbInt"><![CDATA[102]]></Field>
	<Field name="SqlIndGrp" type="java.lang.String"><![CDATA[0]]></Field>
 <Field name="Txt" type="java.lang.String"><![CDATA[drop table TEMP_C_APC_REV_CONV_INV_PRC]]></Field>
</Object>
<Object class="com.sunopsis.dwg.dbobj.SnpOrigTxt">
		<Field name="GlobalId" type="java.lang.String">null</Field>
	<Field name="ITxtOrig" type="com.sunopsis.sql.DbInt"><![CDATA[102]]></Field>
	<Field name="OrigineName" type="java.lang.String"><![CDATA[Target Technology]]></Field>
	<Field name="SnpsCol" type="java.lang.String"><![CDATA[DEF_I_TXT]]></Field>
	<Field name="SnpsTable" type="java.lang.String"><![CDATA[SNP_LINE_TRT]]></Field>
</Object>
<Object class="com.sunopsis.dwg.dbobj.SnpLineTrt">
		<Field name="AlwaysExe" type="java.lang.String"><![CDATA[1]]></Field>
	<Field name="BrpId" type="com.sunopsis.sql.DbInt"><![CDATA[null]]></Field>
	<Field name="ColConnectId" type="java.lang.String">null</Field>
	<Field name="ColContextCode" type="java.lang.String">null</Field>
	<Field name="ColIndCommit" type="java.lang.String">null</Field>
	<Field name="ColIsolLevel" type="java.lang.String">null</Field>
	<Field name="ColITxt" type="com.sunopsis.sql.DbInt"><![CDATA[null]]></Field>
	<Field name="ColLanguage" type="java.lang.String">null</Field>
	<Field name="ColLschemaName" type="java.lang.String">null</Field>
	<Field name="ColTechno" type="java.lang.String"><![CDATA[ORACLE]]></Field>
	<Field name="DefConnectId" type="java.lang.String">null</Field>
	<Field name="DefContextCode" type="java.lang.String"><![CDATA[DEV]]></Field>
	<Field name="DefIndCommit" type="java.lang.String">null</Field>
	<Field name="DefIsolLevel" type="java.lang.String">null</Field>
	<Field name="DefITxt" type="com.sunopsis.sql.DbInt"><![CDATA[5746]]></Field>
	<Field name="DefLanguage" type="java.lang.String">null</Field>
	<Field name="DefLschemaName" type="java.lang.String"><![CDATA[Rev_Rec_EBS_FIN_Temp_Tst1_Log]]></Field>
	<Field name="DefTechno" type="java.lang.String"><![CDATA[ORACLE]]></Field>
	<Field name="ExeChannel" type="java.lang.String">null</Field>
	<Field name="FirstDate" type="java.sql.Timestamp"><![CDATA[2020-07-10 20:30:08.0]]></Field>
	<Field name="FirstUser" type="java.lang.String"><![CDATA[SUPERVISOR]]></Field>
	<Field name="GlobalId" type="java.lang.String"><![CDATA[9121ec4e-c8f5-46d6-88f8-33298900e07d]]></Field>
	<Field name="IndErr" type="java.lang.String"><![CDATA[0]]></Field>
	<Field name="IndLogFinalCmd" type="java.lang.String"><![CDATA[0]]></Field>
	<Field name="IndLogNb" type="java.lang.String">null</Field>
	<Field name="ILineTrt" type="com.sunopsis.sql.DbInt"><![CDATA[1078]]></Field>
	<Field name="IRefLineTrt" type="com.sunopsis.sql.DbInt"><![CDATA[null]]></Field>
	<Field name="IRefTrt" type="com.sunopsis.sql.DbInt"><![CDATA[null]]></Field>
	<Field name="ITrt" type="com.sunopsis.sql.DbInt"><![CDATA[419]]></Field>
	<Field name="KcmAk" type="java.lang.String">null</Field>
	<Field name="KcmCond" type="java.lang.String">null</Field>
	<Field name="KcmErrDel" type="java.lang.String">null</Field>
	<Field name="KcmJoin" type="java.lang.String">null</Field>
	<Field name="KcmNull" type="java.lang.String">null</Field>
	<Field name="KcmPk" type="java.lang.String">null</Field>
	<Field name="KimDrvdSel" type="java.lang.String">null</Field>
	<Field name="KimIdx" type="java.lang.String">null</Field>
	<Field name="KimJrn" type="java.lang.String">null</Field>
	<Field name="KimJrnPop" type="java.lang.String">null</Field>
	<Field name="KjmCreate" type="java.lang.String">null</Field>
	<Field name="KjmDrop" type="java.lang.String">null</Field>
	<Field name="KjmExtend" type="java.lang.String">null</Field>
	<Field name="KjmInstall" type="java.lang.String">null</Field>
	<Field name="KjmLock" type="java.lang.String">null</Field>
	<Field name="KjmPurge" type="java.lang.String">null</Field>
	<Field name="KjmSetInstall" type="java.lang.String">null</Field>
	<Field name="KjmSetUninstall" type="java.lang.String">null</Field>
	<Field name="KjmSubscribe" type="java.lang.String">null</Field>
	<Field name="KjmTableOrder" type="java.lang.String">null</Field>
	<Field name="KjmUninstall" type="java.lang.String">null</Field>
	<Field name="KjmUnlock" type="java.lang.String">null</Field>
	<Field name="KjmUnsubscribe" type="java.lang.String">null</Field>
	<Field name="KlmAfterInt" type="java.lang.String">null</Field>
	<Field name="KlmIdx" type="java.lang.String">null</Field>
	<Field name="KlmJrn" type="java.lang.String">null</Field>
	<Field name="LastDate" type="java.sql.Timestamp"><![CDATA[2020-07-10 20:30:08.0]]></Field>
	<Field name="LastUser" type="java.lang.String"><![CDATA[SUPERVISOR]]></Field>
	<Field name="LineType" type="java.lang.String">null</Field>
	<Field name="LogLevDet" type="java.lang.String"><![CDATA[3]]></Field>
	<Field name="MapTaskType" type="java.lang.String"><![CDATA[EM]]></Field>
	<Field name="OrdTrt" type="com.sunopsis.sql.DbInt"><![CDATA[20]]></Field>
	<Field name="SqlName" type="java.lang.String"><![CDATA[Loading the Invoice data]]></Field>
	<Field name="SupportedSubtypes" type="java.lang.String">null</Field>
	<Field name="VariableDefs" type="java.lang.String">null</Field>
</Object>
<Object class="com.sunopsis.dwg.dbobj.SnpTxtHeader">
		<Field name="Enc" type="java.lang.String">null</Field>
	<Field name="EncKey" type="java.lang.String">null</Field>
 <Field name="EncKeyVect" type="java.lang.String">null</Field>
	<Field name="GlobalId" type="java.lang.String"><![CDATA[a830b885-1168-44e9-bdc2-c828b5ee228e]]></Field>
	<Field name="ITxt" type="com.sunopsis.sql.DbInt"><![CDATA[5746]]></Field>
	<Field name="ITxtOrig" type="com.sunopsis.sql.DbInt"><![CDATA[102]]></Field>
	<Field name="SqlIndGrp" type="java.lang.String"><![CDATA[2]]></Field>
 <Field name="Txt" type="java.lang.String"><![CDATA[create table TEMP_C_APC_REV_CONV_INV_PRC as (SELECT   0 ID,
         0 RC_ID,
         rctta.TYPE,
         0 UPLOAD_ID,
         'N' PROCESSED_FLAG,
         0 ERR_MSG,
         'Y' CV_ELIGIBLE_FLAG,                             --Need confirmation
         0 BATCH_ID,
         0 BOOK_ID,
         --rctta.name,
         (SELECT   hp.party_name
            FROM   apps.hz_cust_accounts@erprevrec hca, apps.hz_parties@erprevrec hp
           WHERE   hca.cust_account_id = rct.bill_to_customer_id
                   AND hca.party_id = hp.party_id)
            CSTMR_NM,
         0 DISC_ADJ_FLAG,
         --rctla.LINE_TYPE,
         DECODE (rbs.name,
                 'PS CONTRACTS', NULL,
                 (SELECT   ORDERED_QUANTITY * UNIT_LIST_PRICE
                    FROM   apps.oe_order_lines_all@erprevrec
                   WHERE   linE_id = rctla.INTERFACE_LINE_ATTRIBUTE6))
            EXT_LST_PRC,
         rctla.EXTENDED_AMOUNT EXT_SLL_PRC,
         0 DISC_AMT,
         0 DISC_PCT,
         0 ALCTBL_XT_PRC,
         --rctla.inventory_item_id,
         (SELECT   segment1
            FROM   apps.mtl_system_items@erprevrec msi
           WHERE       1 = 1
                   AND msi.inventory_item_id = rctla.INVENTORY_ITEM_ID
                   AND msi.organization_id = 102)
            item_num,
         0 BNDL_CNFG_ID,
         rctla.QUANTITY_CREDITED * -1 RET_QTY,
         rctla.QUANTITY_INVOICED INV_QTY,
         rctla.quantity_ordered ORD_QTY,
         0 LT_DEF_ACNT,
         rct.INVOICE_CURRENCY_CODE CURR,
         sob.currency_code F_CUR,
         --rct.EXCHANGE_DATE ,
         NVL (rct.EXCHANGE_RATE, 1) F_EX_RATE,
         DECODE (
            sob.currency_code,
            'USD',
            1,
            (SELECT   conversion_rate
               FROM   apps.gl_daily_rates@erprevrec
              WHERE       conversion_type = 'Corporate'
                      AND from_currency = sob.currency_code
                      AND to_currency = 'USD'
                      AND TRUNC (conversion_date) = TRUNC (rct.trx_date))
         )
            G_EX_RATE,
         --NVL (rct.EXCHANGE_RATE, 1) G_EX_RATE,
         DECODE (rctta.TYPE, 'CM', 'Y', 'N') RETURN_FLAG,
         DECODE (rbs.name, 'PS CONTRACTS', rctla.attribute3, NULL) start_date,
         DECODE (rbs.name, 'PS CONTRACTS', rctla.attribute4, NULL) end_date,
         0 duration,
         'N' STANDALONE_FLAG,
         0 STATED_FLAG,
         --gcc.code_combination_id IN
         (SELECT   DISTINCT gcc.CONCATENATED_SEGMENTS
            FROM   apps.RA_CUST_TRX_LINE_GL_DIST_ALL@erprevrec rctl,
                   apps.GL_CODE_COMBINATIONS_kfv@erprevrec gcc
           WHERE       rctl.customer_trx_line_id = rctla.customer_trx_line_id
                   AND rctl.percent = 100
                   AND rctl.account_class = 'REV'
                   AND rctl.posting_control_id <> -3
                   AND rctl.CODE_COMBINATION_ID = gcc.code_combination_id
                   AND rctl.customer_trx_id = rct.customer_trx_id
                   AND rctl.org_id = rct.org_id--AND rctl.ORIGINAL_GL_DATE is not null
                                               --AND ROWNUM = 1
                                               --GROUP BY   code_combination_id
         )
            def_segments,
         0 rev_SEGMENTS,
         DECODE (
            rbs.name,
            'PS CONTRACTS',
            'PS CONTRACTS',
            (SELECT   ottt.name
               FROM   apps.oe_transaction_types_all@erprevrec otta,
                      apps.OE_TRANSACTION_TYPES_TL@erprevrec ottt,
                      apps.oe_order_headers_all@erprevrec oeh1,
                      apps.oe_order_lines_all@erprevrec ola1
              WHERE       1 = 1
                      AND oeh1.order_type_id = otta.transaction_type_id
                      AND oeh1.org_id = otta.org_id
                      and ola1.line_id=rctla.interface_line_attribute6
                      and ola1.header_id=oeh1.header_id
                      AND otta.transaction_type_id = ottt.transaction_type_id
                      AND ottt.language = 'US')
         )
            atr1,
         'EBSSC' atr2,
         (SELECT   DISTINCT mc.segment5
            FROM   apps.mtl_categories_v@erprevrec mc,
                   apps.mtl_item_categories@erprevrec mic,
                   apps.mtl_system_items@erprevrec msi,
                   apps.fnd_flex_values_vl@erprevrec ff
           WHERE       mc.structure_id = '50266'
                   AND mic.category_set_id = '1100000003'
                   AND msi.organization_id = mic.organization_id
                   AND msi.inventory_item_id = mic.inventory_item_id
                   AND msi.inventory_item_id = rctla.INVENTORY_ITEM_ID
                   AND msi.organization_id = 102        --oel.ship_from_org_id
                   AND mc.disable_date IS NULL
                   AND mc.category_id = mic.category_id
                   AND ff.enabled_flag = 'Y'
                   AND ff.end_date_active IS NULL
                   AND ff.flex_value_set_id = '1007712'
                   AND ff.flex_value = mc.segment1)
            atr3,         
        ( select oeh1.ATTRIBUTE1 from apps.oe_order_lines_all@erprevrec oela1, apps.oe_order_headers_all@erprevrec oeh1 where
                 1=1 and oeh1.header_id=oela1.header_id
                 and oela1.line_id=rctla.interface_line_attribute6) atr4,
         (SELECT   DISTINCT mc.segment6
            FROM   apps.mtl_categories_v@erprevrec mc,
                   apps.mtl_item_categories@erprevrec mic,
                   apps.mtl_system_items@erprevrec msi,
                   apps.fnd_flex_values_vl@erprevrec ff
           WHERE       mc.structure_id = '50266'
                   AND mic.category_set_id = '1100000003'
                   AND msi.organization_id = mic.organization_id
                   AND msi.inventory_item_id = mic.inventory_item_id
                   AND msi.inventory_item_id = rctla.INVENTORY_ITEM_ID
                   AND msi.organization_id = 102         --hou.organization_id
                   AND mc.disable_date IS NULL
                   AND mc.category_id = mic.category_id
                   AND ff.enabled_flag = 'Y'
                   AND ff.end_date_active IS NULL
                   AND ff.flex_value_set_id = '1007712'
                   AND ff.flex_value = mc.segment1)
           atr5,
         (SELECT   DISTINCT mc.segment1
            FROM   apps.mtl_categories_v@erprevrec mc,
                   apps.mtl_item_categories@erprevrec mic,
                   apps.mtl_system_items@erprevrec msi,
                   apps.fnd_flex_values_vl@erprevrec ff
           WHERE       mc.structure_id = '50266'
                   AND mic.category_set_id = '1100000003'
                   AND msi.organization_id = mic.organization_id
                   AND msi.inventory_item_id = mic.inventory_item_id
                   AND msi.inventory_item_id = rctla.INVENTORY_ITEM_ID
                   AND msi.organization_id = 102         --hou.organization_id
                   AND mc.disable_date IS NULL
                   AND mc.category_id = mic.category_id
                   AND ff.enabled_flag = 'Y'
                   AND ff.end_date_active IS NULL
                   AND ff.flex_value_set_id = '1007712'
                   AND ff.flex_value = mc.segment1)
            atr6,
         (SELECT   DISTINCT ff.description
            FROM   apps.mtl_categories_v@erprevrec mc,
                   apps.mtl_item_categories@erprevrec mic,
                   apps.mtl_system_items@erprevrec msi,
                   apps.fnd_flex_values_vl@erprevrec ff
           WHERE       mc.structure_id = '50266'
                   AND mic.category_set_id = '1100000003'
                   AND msi.organization_id = mic.organization_id
                   AND msi.inventory_item_id = mic.inventory_item_id
                   AND msi.inventory_item_id = rctla.INVENTORY_ITEM_ID
                   AND msi.organization_id = 102         --hou.organization_id
                   AND mc.disable_date IS NULL
                   AND mc.category_id = mic.category_id
                   AND ff.enabled_flag = 'Y'
                   AND ff.end_date_active IS NULL
                   AND ff.flex_value_set_id = '1007712'
                   AND ff.flex_value = mc.segment1)
            atr7,
         0 ATR8,
         0 ATR9,
         0 ATR10,
         (SELECT   al.meaning
            FROM   apps.hz_cust_accounts@erprevrec hca,
                   apps.ar_lookups@erprevrec al,
                   apps.hz_parties@erprevrec hp
           WHERE       1 = 1
                   AND hca.cust_account_id = rct.bill_to_customer_id
                   AND hca.party_id = hp.party_id
                   AND al.lookup_type LIKE 'CUSTOMER_CATEGORY'
                   AND hp.category_code = al.LOOKUP_CODE)
            ATR11,
         (SELECT   hca.sales_channel_code
            FROM   apps.hz_cust_accounts@erprevrec hca
           WHERE   1 = 1 AND hca.cust_account_id = rct.bill_to_customer_id)
            atr12,
         DECODE (rbs.name, 'Intercompany', 'Y', 'N') atr13,
         0 ATR14,
         0 ATR15,
         0 ATR16,
         0 ATR17,
         0 ATR18,
         0 ATR19,
         0 ATR20,
         0 ATR21,
         0 ATR22,
         0 ATR23,
         0 ATR24,
         0 ATR25,
         0 ATR26,
         0 ATR27,
         0 ATR28,
         0 ATR29,
         0 ATR30,
         0 ATR31,
         0 ATR32,
         0 ATR33,
         0 ATR34,
         0 ATR35,
         0 ATR36,
         0 ATR37,
         0 ATR38,
         0 ATR39,
         0 ATR40,
         0 ATR41,
         0 ATR42,
         0 ATR43,
         0 ATR44,
         0 ATR45,
         0 ATR46,
         0 ATR47,
         0 ATR48,
         0 ATR49,
         0 ATR50,
         0 ATR51,
         0 ATR52,
         0 ATR53,
         0 ATR54,
         0 ATR55,
         0 ATR56,
         0 ATR57,
         0 ATR58,
         0 ATR59,
         0 ATR60,
         (SELECT   gl_date
            FROM   apps.ra_cust_trx_line_gl_dist_all@erprevrec
           WHERE       customer_trx_line_id = rctla.customer_trx_line_id
                   AND account_class = 'REV'
                   AND percent = 100
                   AND posting_control_id <> -3)
            DATE1,
         0 DATE2,
         0 DATE3,
         0 DATE4,
         0 DATE5,
         0 NUM1,
         0 NUM2,
        0 NUM3,
         0 NUM4,
         0 NUM5,
         0 NUM6,
         0 NUM7,
         0 NUM8,
         0 NUM9,
         0 NUM10,
         0 NUM11,
         0 NUM12,
         0 NUM13,
         0 NUM14,
         0 NUM15,
         '1' CLIENT_ID,
         0 CRTD_PRD_ID,
         '0' SEC_ATR_VAL,
         'ODI_REVREC' CRTD_BY,   --use user_id which is used to connect to DB.
         SYSDATE CRTD_DT,
         'ODI_REVREC' UPDT_BY, ----use user_id which is used to connect to DB.
         SYSDATE updt_dt,
         0 GRP_BY_VAL,
         0 CT_NUM,
         0 CT_LINE_NUM,
         0 CT_LINE_ID,
         0 CT_DATE,         
         DECODE (rbs.name,
                 'PS CONTRACTS',
                 SUBSTR (rctla.attribute1, INSTR ( (rctla.attribute1),
                                                  ',',
                                                  1,
                                                  1)
                                           + 1, (INSTR (rctla.attribute1,
                                                        ',',
                                                        1,
                                                        2)
                                                 - 1)
                                                - INSTR ( (rctla.attribute1),
                                                         ',',
                                                         1,
                                                         1)),
                rctla.interface_line_attribute1)
            so_num,
         DECODE (
            rbs.name,
            'PS CONTRACTS',
            SUBSTR (rctla.attribute1, INSTR ( (rctla.attribute1),
                                             ',',
                                             1,
                                             2)
                                      + 1),
          (select oela.line_number ||'.'|| oela.shipment_number from apps.oe_order_lines_all@erprevrec oela where 1=1 and oela.line_id=rctla.INTERFACE_LINE_ATTRIBUTE6)
         )
            SO_LINE_NUM,
         DECODE (rbs.name,
                 'PS CONTRACTS',
                 SUBSTR (rctla.attribute1, INSTR ( (rctla.attribute1),
                                                  ',',
                                                  1,
                                                  1)
                                           + 1, (INSTR (rctla.attribute1,
                                                        ',',
                                                        1,
                                                        2)
                                                 - 1)
                                                - INSTR ( (rctla.attribute1),
                                                         ',',
                                                         1,
                                                         1))
                 || SUBSTR (rctla.attribute1, INSTR ( (rctla.attribute1),
                                                     ',',
                                                     1,
                                                     2)
                                              + 1),
                 rctla.INTERFACE_LINE_ATTRIBUTE6)
            so_line_id,
         (select oeh1.ordered_date from apps.oe_order_lines_all@erprevrec oela1, apps.oe_order_headers_all@erprevrec oeh1 where
                 1=1 and oeh1.header_id=oela1.header_id
                 and oela1.line_id=rctla.interface_line_attribute6) SO_DATE,
         rct.trx_number INV_NUM,
         rctla.LINE_NUMBER INV_LINE_NUM,
         rctla.CUSTOMER_TRX_LINE_ID INV_LINE_ID,
         rct.trx_date INV_DATE,
         --rctla.attribute1,
         (select rctla1.customer_trx_line_id from 
                  apps.oe_order_lines_all@erprevrec oel,
                  apps.ra_customer_trx_all@erprevrec rct1,
                  apps.ra_customer_Trx_lines_all@erprevrec rctla1
                  
                  where 
                     1=1 
                     AND oel.line_id = rctla.INTERFACE_LINE_ATTRIBUTE6
                     and oel.context='RETURN'
                     and oel.attribute1=rct1.trx_number
                     and rctla1.line_number=cast(regexp_replace(oel.attribute12, '[^0-9]+', '') as char )
                     and rct1.customer_trx_id=rctla1.customer_trx_id
                     and rct1.org_id=rctla1.org_id
                     and oel.org_id=rct1.org_id
                     and rctla1.line_type='LINE') ORIG_INV_LINE_ID,
         /*DECODE (
            (SELECT   COUNT (0)
               FROM   apps.org_organization_definitions
              WHERE   organization_id = rctla.warehouse_id
                      AND operating_unit = rctla.org_id),
            0,
            NULL,*/
          (case when (select x.item_type_code
                                    FROM apps.oe_order_lines_all@erprevrec x
                                   WHERE x.line_id =
                                            TO_NUMBER (rctla.interface_line_attribute6))='KIT' 
                                               then
                                               (SELECT   SUM (ABS (transaction_quantity) * actual_cost)
            FROM   apps.mtl_material_transactions@erprevrec mtt, apps.oe_order_lines_all@erprevrec oela
           WHERE   
                    1=1
                   AND mtt.organization_id = rctla.warehouse_id
                   AND mtt.inventory_item_id = OELA.INVENTORY_ITEM_ID
                   and oela.link_to_line_id=TO_NUMBER (rctla.interface_line_attribute6)
                   AND oela.ITEM_TYPE_CODE='INCLUDED'
                   AND mtt.source_line_id = oela.line_id
                   and  mtt.DISTRIBUTION_ACCOUNT_ID is not null
                    and mtt.transaction_type_id IN (11, 15, 33) /* Sales Order, RMA */
                   and mtt.transaction_source_type_id IN (2, 12, 13)
                                               )else
                                               (SELECT   SUM (ABS (transaction_quantity) * actual_cost)
            FROM   apps.mtl_material_transactions@erprevrec mtt
           WHERE   
                    1=1
                   AND mtt.organization_id = rctla.warehouse_id
                   AND mtt.inventory_item_id = rctla.inventory_item_id
                   
                   AND ((mtt.source_line_id = TO_NUMBER (rctla.interface_line_attribute6)) or (mtt.trx_source_line_id = TO_NUMBER (rctla.interface_line_attribute6)))
                   and  mtt.DISTRIBUTION_ACCOUNT_ID is not null
                    and mtt.transaction_type_id IN (11, 15, 33) /* Sales Order, RMA */
                   and mtt.transaction_source_type_id IN (2, 12, 13)
                   -- AND gcc.segment3 IN ('500000', '501000')
                    )
                                               end)
            cost_amt,            
         /*DECODE (
        (SELECT   COUNT (0)
           FROM   apps.org_organization_definitions
          WHERE   organization_id = rctla.warehouse_id
                  AND operating_unit = rctla.org_id),
        0,
        NULL,*/
         (  SELECT  gcc.concatenated_segments
              FROM   apps.mtl_material_transactions@erprevrec mtt,                     
                     apps.mtl_sales_orders@erprevrec mso,
                     apps.gl_code_combinations_kfv@erprevrec gcc,
                     apps.mtl_transaction_accounts@erprevrec mta,
                     apps.oe_order_lines_all@erprevrec oela
             WHERE     
                      1=1
                     AND mtt.organization_id = rctla.warehouse_id
                     and oela.line_id=TO_NUMBER (rctla.interface_line_attribute6)
                     and (case when oela.item_type_code = 'KIT' then 
                         (select oela1.line_id from apps.oe_order_lines_all@erprevrec oela1 where 1=1 and rownum=1 and oela1.link_to_line_id=oela.line_id) 
                     else
                         oela.line_id
                        end = decode(rctta.TYPE,'INV',mtt.source_line_id,mtt.trx_source_line_id)) --= ) or (mtt.trx_source_line_id = TO_NUMBER (rctla.interface_line_attribute6)))
                   and mtt.transaction_type_id IN (11, 15, 33) /* Sales Order, RMA */
                   and mtt.transaction_source_type_id IN (2, 12, 13)
                   and mtt.transaction_source_id = mso.sales_order_id
                   and mso.segment1=rctla.SALES_ORDER--Sales_order                        
                    and mtt.TRANSACTION_ID=mta.TRANSACTION_ID
                   and gcc.code_combination_id=mta.REFERENCE_ACCOUNT
                   and gcc.segment3 in ('500000', '501000')
         GROUP BY   gcc.concatenated_segments
          )
            --)
            cost_def_segments,
         0 cost_rev_segments,
         DECODE (
            rbs.name,
            'PS CONTRACTS',
            0,
            1
         )
            --)
            cost_f_ex_rate,
         DECODE (
            rbs.name,
            'PS CONTRACTS',
            0,
            DECODE (
               sob.currency_code,
               'USD',
               1,
               (SELECT   conversion_rate
                  FROM   apps.gl_daily_rates@erprevrec
                 WHERE       conversion_type = 'Corporate'
                         AND from_currency = sob.currency_code
                         AND to_currency = 'USD'
                         AND TRUNC (conversion_date) = TRUNC (rct.trx_date))
            )
         )
            --)
            COST_G_EX_RATE,
         sob.currency_code cost_curr,
         0 credit_rule,
         1 cost_type_id,
         0 unbill_flag,
         0 term,
         0 VC_TYPE_NAME,
         DECODE (rbs.name,
                 'PS CONTRACTS', rct.purchase_order,
                 (select oeh1.cust_po_number from apps.oe_order_lines_all@erprevrec oela1, apps.oe_order_headers_all@erprevrec oeh1 where
                 1=1 and oeh1.header_id=oela1.header_id
                 and oela1.line_id=rctla.interface_line_attribute6))
            PO_NUM,
         0 QUOTE_NUM,
         (SELECT   SCHEDULE_SHIP_DATE
            FROM   apps.oe_order_lines_all@erprevrec
           WHERE   line_id = rctla.INTERFACE_LINE_ATTRIBUTE6)
           SCHD_SHIP_DT,
         (SELECT   ACTUAL_SHIPMENT_DATE
            FROM   apps.oe_order_lines_all@erprevrec
           WHERE   line_id = rctla.INTERFACE_LINE_ATTRIBUTE6)
            SHIP_DT,
         0 SALES_REP_NAME,
         (SELECT   hca.account_number
            FROM   apps.hz_cust_accounts@erprevrec hca
           WHERE   1 = 1 AND hca.cust_account_id = rct.bill_to_customer_id)
            CUST_NUM,
         0 PROD_CTGRY,
         (SELECT   DISTINCT mc.segment2
            FROM   apps.mtl_categories_v@erprevrec mc,
                   apps.mtl_item_categories@erprevrec mic,
                   apps.mtl_system_items@erprevrec msi,
                   apps.fnd_flex_values_vl@erprevrec ff
           WHERE       mc.structure_id = '50266'
                   AND mic.category_set_id = '1100000003'
                   AND msi.organization_id = mic.organization_id
                   AND msi.inventory_item_id = mic.inventory_item_id
                   AND msi.inventory_item_id = rctla.INVENTORY_ITEM_ID
                   AND msi.organization_id = 102         --hou.organization_id
                   AND mc.disable_date IS NULL
                   AND mc.category_id = mic.category_id
                   AND ff.enabled_flag = 'Y'
                   AND ff.end_date_active IS NULL
                   AND ff.flex_value_set_id = '1007712'
                   AND ff.flex_value = mc.segment1)
            PROD_CLASS,
         (SELECT   DISTINCT mc.segment4
            FROM   apps.mtl_categories_v@erprevrec mc,
                   apps.mtl_item_categories@erprevrec mic,
                   apps.mtl_system_items@erprevrec msi,
                   apps.fnd_flex_values_vl@erprevrec ff
           WHERE       mc.structure_id = '50266'
                   AND mic.category_set_id = '1100000003'
                   AND msi.organization_id = mic.organization_id
                   AND msi.inventory_item_id = mic.inventory_item_id
                   AND msi.inventory_item_id = rctla.INVENTORY_ITEM_ID
                   AND msi.organization_id = 102         --hou.organization_id
                   AND mc.disable_date IS NULL
                   AND mc.category_id = mic.category_id
                   AND ff.enabled_flag = 'Y'
                   AND ff.end_date_active IS NULL
                   AND ff.flex_value_set_id = '1007712'
                   AND ff.flex_value = mc.segment1)
            PROD_FMLY,
         (SELECT   DISTINCT mc.segment3
            FROM   apps.mtl_categories_v@erprevrec mc,
                   apps.mtl_item_categories@erprevrec mic,
                   apps.mtl_system_items@erprevrec msi,
                  apps.fnd_flex_values_vl@erprevrec ff
           WHERE       mc.structure_id = '50266'
                   AND mic.category_set_id = '1100000003'
                   AND msi.organization_id = mic.organization_id
                   AND msi.inventory_item_id = mic.inventory_item_id
                   AND msi.inventory_item_id = rctla.INVENTORY_ITEM_ID
                   AND msi.organization_id = 102         --hou.organization_id
                   AND mc.disable_date IS NULL
                   AND mc.category_id = mic.category_id
                   AND ff.enabled_flag = 'Y'
                   AND ff.end_date_active IS NULL
                   AND ff.flex_value_set_id = '1007712'
                   AND ff.flex_value = mc.segment1)
            PROD_LN,
         hou.name BUSINESS_UNIT,
         0 CT_MOD_DATE,
         0 PRNT_LN_ID,
         0 PRNT_REF_LN_ID,
         0 COMMENTS,
         'Y' FV_ELIGIBLE_FLAG,
         0 REV_OFFSET_SEGS,
         sob.set_of_books_id SOB_ID,
         0 FV_DATE,
         0 DEF_OFFSET_SEGS,
         0 ORIG_SO_LINE_ID,
         rctla.UNIT_SELLING_PRICE UNIT_SELL_PRC,
         (SELECT   UNIT_LIST_PRICE
            FROM   apps.oe_order_lines_all@erprevrec oel
           WHERE   1 = 1 AND oel.line_id = rctla.INTERFACE_LINE_ATTRIBUTE6)
            UNIT_LIST_PRC,
         --rctla.attribute6,
         0 CV_ELIGIBLE_LVL2_FLAG,
         0 IMPAIRMENT_TYPE,
         0 BNDL_PRNT_ID,
         (SELECT   gcc.segment1
            FROM   apps.gl_code_combinations_kfv@erprevrec gcc,
                   apps.hz_cust_site_uses_all@erprevrec hcsu
           WHERE       1 = 1
                   AND gcc.code_combination_id = hcsu.gl_id_rev
                   AND rct.bill_to_site_use_id = hcsu.site_use_id)
            COMPANY_CODE,
         0 CANCEL_FLAG,
         0 CONV_WF_FLAG,
         0 CA_ACCOUNT,
         0 CI_ACCOUNT,
         0 AL_ACCOUNT,
         0 AR_ACCOUNT,
         0 CONTRA_AR_ACCT,
         0 PAYABLES_ACCT,
         0 LT_DEF_ADJ_ACCT,
         0 UB_LIAB_ACCT,
         0 IC_ACCOUNT,
         0 VC_FORMULA,
         0 VC_PROCESS_TYPE,
         0 VC_AMT,
         0 VC_QTY,
         'apc.c_apc_rev_interface_line_id.NEXTVAL' INTERFACE_LINE_ID,
         --null interface_line_id,
         0 PROTHEUS_UNI_ID,
         0 EXT_SLL_PRC_EXC,
         0 SLL_PRC_EXC,
         0 CREATED_BY,
         0 CREATED_DATE,
         0 LAST_UPDATED_BY,
         0 LAST_UPDATE_DATE,
         0 CONCURRENT_REQUEST_ID,
         0 INTERCOMP_FLAG,
         0 odi_id,         
         (SELECT   oel.line_category_code
            FROM   apps.oe_order_lines_all@erprevrec oel
           WHERE   
                    1=1
                    --and --oel.header_id = oeh.header_id
                   AND oel.line_id = rctla.INTERFACE_LINE_ATTRIBUTE6)
            line_categ_code,

         (SELECT   oel.context
            FROM   apps.oe_order_lines_all@erprevrec oel
           WHERE   1=1
           --and oel.header_id = oeh.header_id
                   AND oel.line_id = rctla.INTERFACE_LINE_ATTRIBUTE6)
            so_return_context,
                  (select rctla1.interface_line_attribute6 from 
                  apps.oe_order_lines_all@erprevrec oel,
                  apps.ra_customer_trx_all@erprevrec rct1,
                  apps.ra_customer_Trx_lines_all@erprevrec rctla1
                  
                  where 
                     1=1 
                     AND oel.line_id = rctla.INTERFACE_LINE_ATTRIBUTE6
                     and oel.context='RETURN'
                     and oel.attribute1=rct1.trx_number
                     and rctla1.line_number=cast(regexp_replace(oel.attribute12, '[^0-9]+', '') as char )
                     and rct1.customer_trx_id=rctla1.customer_trx_id
                     and rct1.org_id=rctla1.org_id
                     and oel.org_id=rct1.org_id
                     and rctla1.line_type='LINE') so_return_atr2,
         (SELECT   segment1
            FROM   apps.gl_code_combinations_kfv@erprevrec gcc,
                   apps.hz_cust_site_uses_all@erprevrec hcsu
           WHERE   gcc.code_combination_id = hcsu.gl_id_rev
                   AND hcsu.site_use_id = rct.bill_to_site_use_id)
            cust_site_segment1,
         (SELECT   segment2
            FROM   apps.gl_code_combinations_kfv@erprevrec gcc,
                   apps.hz_cust_site_uses_all@erprevrec hcsu
           WHERE   gcc.code_combination_id = hcsu.gl_id_rev
                   AND hcsu.site_use_id = rct.bill_to_site_use_id)
            cust_site_segment2,
         (SELECT   segment3
            FROM   apps.gl_code_combinations_kfv@erprevrec gcc,
                   apps.hz_cust_site_uses_all@erprevrec hcsu
           WHERE   gcc.code_combination_id = hcsu.gl_id_rev
                   AND hcsu.site_use_id = rct.bill_to_site_use_id)
            cust_site_segment3,
         (SELECT   segment4
            FROM   apps.gl_code_combinations_kfv@erprevrec gcc,
                   apps.hz_cust_site_uses_all@erprevrec hcsu
           WHERE   gcc.code_combination_id = hcsu.gl_id_rev
                   AND hcsu.site_use_id = rct.bill_to_site_use_id)
            cust_site_segment4,
         (SELECT   segment5
            FROM   apps.gl_code_combinations_kfv@erprevrec gcc,
                   apps.hz_cust_site_uses_all@erprevrec hcsu
           WHERE   gcc.code_combination_id = hcsu.gl_id_rev
                   AND hcsu.site_use_id = rct.bill_to_site_use_id)
            cust_site_segment5,
         (SELECT   segment6
            FROM   apps.gl_code_combinations_kfv@erprevrec gcc,
                   apps.hz_cust_site_uses_all@erprevrec hcsu
           WHERE   gcc.code_combination_id = hcsu.gl_id_rev
                   AND hcsu.site_use_id = rct.bill_to_site_use_id)
            cust_site_segment6,
         (SELECT   segment7
            FROM   apps.gl_code_combinations_kfv@erprevrec gcc,
                   apps.hz_cust_site_uses_all@erprevrec hcsu
           WHERE   gcc.code_combination_id = hcsu.gl_id_rev
                   AND hcsu.site_use_id = rct.bill_to_site_use_id)
            cust_site_segment7,
         0 prof_svcs_flag
  --,
  --rbs.name
  --need confirmation
  --null REV_SEGMENTS, -- need confirmation
  --rctla.customer_Trx_line_id,
  --rct.creation_date,
  --rct.BILL_TO_CUSTOMER_ID,rct.BILL_TO_SITE_USE_ID,
  -- rct.creation_date
  FROM   apps.ra_customer_trx_all@erprevrec rct,
         apps.ra_customer_trx_lines_all@erprevrec rctla,
         apps.RA_CUST_TRX_TYPES_ALL@erprevrec rctta,
         apps.HR_OPERATING_UNITS@erprevrec hou,
         apps.gl_sets_of_books@erprevrec sob,
         apps.oe_order_headers_all@erprevrec oeh,
         apps.ra_batch_sources_all@erprevrec rbs
WHERE       1 = 1
         AND rct.customer_trx_id = rctla.customer_trx_id
         AND rct.batch_source_id = rbs.batch_source_id
         AND rct.org_id = rbs.org_id
       AND TRUNC (rct.creation_date) BETWEEN '1-JUN-2017' AND '30-JUN-2017'
         AND rct.org_id = rctta.org_id
         AND rct.org_id = hou.ORGANIZATION_ID
         AND hou.SET_OF_BOOKS_ID = sob.SET_OF_BOOKS_ID
         AND rctla.LINE_TYPE = 'LINE'
         AND rct.CUST_TRX_TYPE_ID = rctta.CUST_TRX_TYPE_ID
         AND RCT.ORG_ID = RCTTA.ORG_ID
         --AND ((rctla.INTERFACE_LINE_CONTEXT='ORDER ENTRY' and rctla.INTERFACE_LINE_ATTRIBUTE1=oeh.ORDER_NUMBER(+)) or rctla.INTERFACE_LINE_ATTRIBUTE1  = oeh.ORDER_NUMBER(+))
         --AND ((rctta.TYPE='CM' and rctla.INTERFACE_LINE_ATTRIBUTE1  = oeh.ORDER_NUMBER(+)) or (rctta.type='INV' and rctla.sales_order=oeh.ORDER_NUMBER(+)))
         AND cast(regexp_replace(rctla.INTERFACE_LINE_ATTRIBUTE1, '[^0-9]+', '') as char )= oeh.ORDER_NUMBER(+)
         --AND cast(regexp_replace(rctla.sales_order, '[^0-9]+', '') as char )= oeh.ORDER_NUMBER(+)
        --AND cast(trim(rctla.INTERFACE_LINE_ATTRIBUTE1) as char)=oeh.ORDER_NUMBER(+)
        AND (rbs.name = 'PS CONTRACTS'
              OR (EXISTS
                     --gcc.code_combination_id IN
                  (SELECT   DISTINCT gcc.code_combination_id
                     FROM   apps.RA_CUST_TRX_LINE_GL_DIST_ALL@erprevrec rctl,
                            apps.GL_CODE_COMBINATIONS_KFV@erprevrec gcc
                    WHERE   rctl.customer_trx_line_id =
                               rctla.customer_trx_line_id
                            AND rctl.percent = 100
                            AND rctl.account_class = 'REV'
                            AND rctl.posting_control_id <> -3
                            AND rctl.CODE_COMBINATION_ID =
                                  gcc.code_combination_id
                            AND rctl.customer_trx_id = rct.customer_trx_id
                            AND rctl.org_id = rct.org_id
                            --AND rctl.ORIGINAL_GL_DATE is not null
                            --AND ROWNUM = 1
                            --GROUP BY   code_combination_id)
                            AND gcc.segment5 = '400')))
         AND (oeh.ORDER_NUMBER IS NULL
              OR oeh.order_type_id NOT IN
                      (SELECT   oett.transaction_type_id
                         FROM   apps.c_fnd_lookups_v@erprevrec cflv,
                                apps.oe_transaction_types_tl@erprevrec oettt,
                                apps.oe_transaction_types_all@erprevrec oett
                        WHERE   oettt.name LIKE '%' || cflv.meaning || '%'
                                AND oett.transaction_type_id =
                                      oettt.transaction_type_id
                                AND cflv.lookup_type =
                                      'C_ORDER_TYPE_NOTFOR_REVPRO'
                                AND cflv.enabled_flag = 'Y'
                                AND oettt.LANGUAGE = 'US')))]]></Field>
</Object>
<Object class="com.sunopsis.dwg.dbobj.SnpFKXRef">
		<Field name="RefKey" type="java.lang.String"><![CDATA[SNP_FOLDER.49]]></Field>
	<Field name="RefObjGlobalId" type="java.lang.String"><![CDATA[b2cdabd6-9c7b-4916-9cde-9dab056cbe1e]]></Field>
 <Field name="RefObjFQName" type="java.lang.String"><![CDATA[Rev_Rec_EBS_FIN.REVREC_BACKUPS]]></Field>
 <Field name="RefObjFQType" type="java.lang.String"><![CDATA[SNP_PROJECT.SNP_FOLDER]]></Field>
 <Field name="RefObjFQNameLengths" type="java.lang.String"><![CDATA[15.14]]></Field>
</Object>
<Object class="com.sunopsis.dwg.dbobj.SnpFKXRef">
		<Field name="RefKey" type="java.lang.String"><![CDATA[SNP_PROJECT.14]]></Field>
	<Field name="RefObjGlobalId" type="java.lang.String"><![CDATA[ea7b999d-939f-4d2a-8711-55cbc5efac9e]]></Field>
 <Field name="RefObjFQName" type="java.lang.String"><![CDATA[Rev_Rec_EBS_FIN]]></Field>
 <Field name="RefObjFQType" type="java.lang.String"><![CDATA[SNP_PROJECT]]></Field>
 <Field name="RefObjFQNameLengths" type="java.lang.String"><![CDATA[15]]></Field>
</Object>
<Object class="com.sunopsis.dwg.dbobj.SnpFKXRef">
		<Field name="RefKey" type="java.lang.String"><![CDATA[SNP_TXTHEADER.5745]]></Field>
	<Field name="RefObjGlobalId" type="java.lang.String"><![CDATA[c576ff3f-245a-4520-8446-65b0932f2dbc]]></Field>
 <Field name="RefObjFQName" type="java.lang.String">null</Field>
 <Field name="RefObjFQType" type="java.lang.String">null</Field>
 <Field name="RefObjFQNameLengths" type="java.lang.String">null</Field>
</Object>
<Object class="com.sunopsis.dwg.dbobj.SnpFKXRef">
		<Field name="RefKey" type="java.lang.String"><![CDATA[SNP_TRT.419]]></Field>
	<Field name="RefObjGlobalId" type="java.lang.String"><![CDATA[1c2846dd-ed9f-45cc-907f-0db601b0b694]]></Field>
 <Field name="RefObjFQName" type="java.lang.String"><![CDATA[Rev_Rec_EBS_FIN.PRC_TEMP_C_APC_REV_CONV_INV_V16]]></Field>
 <Field name="RefObjFQType" type="java.lang.String"><![CDATA[SNP_PROJECT.SNP_TRT]]></Field>
 <Field name="RefObjFQNameLengths" type="java.lang.String"><![CDATA[15.31]]></Field>
</Object>
<Object class="com.sunopsis.dwg.dbobj.SnpFKXRef">
		<Field name="RefKey" type="java.lang.String"><![CDATA[SNP_TXTHEADER.5746]]></Field>
	<Field name="RefObjGlobalId" type="java.lang.String"><![CDATA[a830b885-1168-44e9-bdc2-c828b5ee228e]]></Field>
 <Field name="RefObjFQName" type="java.lang.String">null</Field>
 <Field name="RefObjFQType" type="java.lang.String">null</Field>
 <Field name="RefObjFQNameLengths" type="java.lang.String">null</Field>
</Object>
<Object class="com.sunopsis.dwg.dbobj.SnpFKXRef">
		<Field name="RefKey" type="java.lang.String"><![CDATA[SNP_ORIGTXT.102]]></Field>
	<Field name="RefObjGlobalId" type="java.lang.String">null</Field>
 <Field name="RefObjFQName" type="java.lang.String">null</Field>
 <Field name="RefObjFQType" type="java.lang.String">null</Field>
 <Field name="RefObjFQNameLengths" type="java.lang.String">null</Field>
</Object>
<Object class="com.sunopsis.dwg.DwgExportSummary">
		<Field name="ExpTxtNb" type="com.sunopsis.sql.DbInt"><![CDATA[0]]></Field>
	<Field name="InstObjNb" type="com.sunopsis.sql.DbInt"><![CDATA[0]]></Field>
	<Field name="JoinColNb" type="com.sunopsis.sql.DbInt"><![CDATA[0]]></Field>
	<Field name="JoinNb" type="com.sunopsis.sql.DbInt"><![CDATA[0]]></Field>
	<Field name="KeyColNb" type="com.sunopsis.sql.DbInt"><![CDATA[0]]></Field>
	<Field name="KeyNb" type="com.sunopsis.sql.DbInt"><![CDATA[0]]></Field>
	<Field name="LinkDiagNb" type="com.sunopsis.sql.DbInt"><![CDATA[0]]></Field>
	<Field name="MorigTxtNb" type="com.sunopsis.sql.DbInt"><![CDATA[0]]></Field>
	<Field name="MtxtNb" type="com.sunopsis.sql.DbInt"><![CDATA[0]]></Field>
	<Field name="OrigTxtNb" type="com.sunopsis.sql.DbInt"><![CDATA[2]]></Field>
	<Field name="OtherObjectsNb" type="com.sunopsis.sql.DbInt"><![CDATA[3]]></Field>
	<Field name="PlanAgentNb" type="com.sunopsis.sql.DbInt"><![CDATA[0]]></Field>
	<Field name="StepNb" type="com.sunopsis.sql.DbInt"><![CDATA[0]]></Field>
	<Field name="TxtNb" type="com.sunopsis.sql.DbInt"><![CDATA[2]]></Field>
	<Field name="UeOrigNb" type="com.sunopsis.sql.DbInt"><![CDATA[0]]></Field>
	<Field name="UeUsedNb" type="com.sunopsis.sql.DbInt"><![CDATA[0]]></Field>
	<Field name="VarPlanAgentNb" type="com.sunopsis.sql.DbInt"><![CDATA[0]]></Field>
	<Field name="ScenTxtNb" type="com.sunopsis.sql.DbInt"><![CDATA[0]]></Field>
	<Field name="OdiVersion" type="java.lang.String"><![CDATA[12.2.1]]></Field>
	<Field name="OriginRepositoryID" type="com.sunopsis.sql.DbInt"><![CDATA[1]]></Field>
	<Field name="RepositoryVersion" type="java.lang.String"><![CDATA[05.02.02.05]]></Field>
</Object>
</SunopsisExport>
